generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

type TaskDataSubTasks {
  description String
  status      String
}

type UserDataSettings {
  notifications Boolean
  theme         String
}

type UserDataUserStats {
  average_completion_time Int
  average_grade           Int
  total_tasks_completed   Int
}

model assignment_data {
  id                String @id @default(auto()) @map("_id") @db.ObjectId
  assignment_grade  Float
  assignment_weight Float
  completion_date   BigInt
  course            String
  creation_date     BigInt
  current_grade     Float
  description       String
  due_date          BigInt
  gpt_plan          String
  link              String
  passing_grade     Float
  progress          BigInt
  start_date        BigInt
  subject           String
  title             String
  user              String
}

model personal_data {
  id              String @id @default(auto()) @map("_id") @db.ObjectId
  completion_date BigInt
  creation_date   BigInt
  description     String
  expiration_date BigInt
  gpt_plan        String
  link            String
  priority        BigInt
  progress        BigInt
  start_date      BigInt
  title           String
  user            String
}

model sessions {
  id      String   @id @map("_id")
  expires DateTime @db.Date
  session String

  @@index([expires], map: "expires_1")
}

model task_data {
  id                        String             @id @default(auto()) @map("_id") @db.ObjectId
  created_at                String
  description               String
  due_date                  String
  estimated_completion_time Int
  priority                  Int
  status                    String
  sub_tasks                 TaskDataSubTasks[]
  title                     String
  user_id                   String
}

model user_data {
  id               String            @id @map("_id")
  canvas_api_token String
  canvas_courses   String[]
  settings         UserDataSettings
  user_stats       UserDataUserStats
  username         String
}
